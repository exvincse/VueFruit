{"version":3,"sources":["webpack:///./src/components/custom/Moreproduct.vue?d489","webpack:///src/components/custom/Moreproduct.vue","webpack:///./src/components/custom/Moreproduct.vue?55a7","webpack:///./src/components/custom/Moreproduct.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","min-height","Product","staticClass","attrs","aria-label","to","_v","aria-current","_s","title","src","imageUrl","alt","origin_price","_e","price","content","directives","name","rawName","value","expression","on","change","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","$set","multiple","_l","item","key","domProps","unit","num","disabled","loading","id","click","preventDefault","addCart","staticRenderFns","Moreproductvue_type_script_lang_js_","data","ProductId","error","computed","_objectSpread","Object","vuex_esm","created","$route","query","getProduct","methods","_this","$store","dispatch","api","concat","$http","get","then","response","success","product","message","jquery_default","css","qty","arguments","length","undefined","custom_Moreproductvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d22cfae.da6ca761.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"min-height\":\"100vh\"}},[(_vm.Product.title)?_c('section',{staticClass:\"mt-lg-2 mb-7\"},[_c('div',{staticClass:\"container\"},[_c('nav',{attrs:{\"aria-label\":\"breadcrumb\"}},[_c('ol',{staticClass:\"breadcrumb bg-transparent px-0\"},[_c('li',{staticClass:\"breadcrumb-item\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"首頁\")])],1),_c('li',{staticClass:\"breadcrumb-item\"},[_c('router-link',{attrs:{\"to\":\"/products\"}},[_vm._v(\"商品\")])],1),_c('li',{staticClass:\"breadcrumb-item active\",attrs:{\"aria-current\":\"page\"}},[_vm._v(_vm._s(_vm.Product.title))])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-6\"},[_c('img',{staticClass:\"w-100 mb-4 mb-lg-0\",attrs:{\"src\":_vm.Product.imageUrl,\"alt\":\"\"}})]),_c('div',{staticClass:\"col-lg-6\"},[_c('h1',{staticClass:\"h2\"},[_vm._v(_vm._s(_vm.Product.title))]),_c('div',{staticClass:\"d-flex justify-content-end align-items-end\"},[(_vm.Product.origin_price)?_c('del',{staticClass:\"text-secondary\"},[_vm._v(\"原價 $\"+_vm._s(_vm.Product.origin_price))]):_vm._e(),(!_vm.Product.origin_price)?_c('div',{staticClass:\"ml-auto text-danger h3 mb-0\"},[_c('small',[_vm._v(\"售價\")]),_c('strong',[_vm._v(\"NT$ \"+_vm._s(_vm.Product.price))])]):_vm._e(),(_vm.Product.origin_price)?_c('div',{staticClass:\"ml-auto text-danger h3 mb-0\"},[_c('small',[_vm._v(\"特價\")]),_c('strong',[_vm._v(\"NT$ \"+_vm._s(_vm.Product.price))])]):_vm._e()]),_c('hr'),_c('p',{staticClass:\"card-text body\"},[_vm._v(_vm._s(_vm.Product.content))]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.Product.num),expression:\"Product.num\"}],staticClass:\"form-control mb-4\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.Product, \"num\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((10),function(item){return _c('option',{key:item,domProps:{\"value\":item}},[_vm._v(_vm._s(item)+_vm._s(_vm.Product.unit))])}),0),_c('div',{staticClass:\"d-flex justify-content-between align-items-center\"},[(_vm.Product.price)?_c('div',{staticClass:\"text-left h5\"},[_vm._v(\"總價:NT$ \"+_vm._s(_vm.Product.num*_vm.Product.price))]):_c('div',{staticClass:\"text-left h5\"},[_vm._v(\"總價:NT$ \"+_vm._s(_vm.Product.num*_vm.Product.origin_price))]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"disabled\":_vm.loading === _vm.Product.id},on:{\"click\":function($event){$event.preventDefault();return _vm.addCart(_vm.Product.id,_vm.Product.num)}}},[(_vm.loading === _vm.Product.id)?_c('i',{staticClass:\"fas fa-spinner fa-spin\"}):_vm._e(),_vm._v(\"\\n                加入購物車\")])])])])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div style=\"min-height: 100vh;\">\r\n    <section class=\"mt-lg-2 mb-7\" v-if=\"Product.title\">\r\n      <div class=\"container\">\r\n        <nav aria-label=\"breadcrumb\">\r\n          <ol class=\"breadcrumb bg-transparent px-0\">\r\n            <li class=\"breadcrumb-item\">\r\n              <router-link to=\"/\">首頁</router-link>\r\n            </li>\r\n            <li class=\"breadcrumb-item\">\r\n              <router-link to=\"/products\">商品</router-link>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\"\r\n                aria-current=\"page\">{{Product.title}}</li>\r\n          </ol>\r\n        </nav>\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-6\">\r\n            <img class=\"w-100 mb-4 mb-lg-0\"\r\n                 :src=\"Product.imageUrl\"\r\n                 alt=\"\">\r\n          </div>\r\n          <div class=\"col-lg-6\">\r\n              <h1 class=\"h2\">{{Product.title}}</h1>\r\n              <div class=\"d-flex justify-content-end align-items-end\">\r\n                <del class=\"text-secondary\"\r\n                     v-if=\"Product.origin_price\">原價 ${{Product.origin_price}}</del>\r\n                <div class=\"ml-auto text-danger h3 mb-0\"\r\n                     v-if=\"!Product.origin_price\">\r\n                  <small>售價</small>\r\n                  <strong>NT$ {{Product.price}}</strong>\r\n                </div>\r\n                <div class=\"ml-auto text-danger h3 mb-0\"\r\n                     v-if=\"Product.origin_price\">\r\n                  <small>特價</small>\r\n                  <strong>NT$ {{Product.price}}</strong>\r\n                </div>\r\n              </div>\r\n              <hr>\r\n                <p class=\"card-text body\">{{Product.content}}</p>\r\n                <select class=\"form-control mb-4\"\r\n                        v-model=\"Product.num\">\r\n                  <option :value=\"item\"\r\n                          v-for=\"item in 10\"\r\n                          :key=\"item\">{{item}}{{Product.unit}}</option>\r\n                </select>\r\n\r\n              <div class=\"d-flex justify-content-between align-items-center\">\r\n              <div v-if=\"Product.price\"\r\n                   class=\"text-left h5\">總價:NT$ {{Product.num*Product.price}}</div>\r\n              <div v-else\r\n                   class=\"text-left h5\">總價:NT$ {{Product.num*Product.origin_price}}</div>\r\n              <button class=\"btn btn-primary\"\r\n                   @click.prevent=\"addCart(Product.id,Product.num)\"\r\n                   :disabled=\"loading === Product.id\">\r\n                  <i class=\"fas fa-spinner fa-spin\"\r\n                     v-if=\"loading === Product.id\"></i>\r\n                  加入購物車</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nimport $ from 'jquery'\r\nexport default {\r\n  data () {\r\n    return {\r\n      Product: {},\r\n      ProductId: '',\r\n      error: ''\r\n    }\r\n  },\r\n  computed: {\r\n    // 接收vuex計算的資料，product icon loading\r\n    ...mapGetters('Mcart', ['loading'])\r\n  },\r\n  created () {\r\n    // ajax獲取資料，並獲取route params\r\n    this.ProductId = this.$route.query.id\r\n    this.getProduct()\r\n  },\r\n  methods: {\r\n    // ajax獲取單一商品資料\r\n    getProduct () {\r\n      this.$store.dispatch('updateLoading', true)\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/product/${this.ProductId}`\r\n      this.$http.get(api).then((response) => {\r\n        if (response.data.success) {\r\n          // response.data.product.num = 1\r\n          this.Product = response.data.product\r\n          this.$set(this.Product, 'num', 1)\r\n        } else {\r\n          this.error = response.data.message\r\n        }\r\n        this.$store.dispatch('updateLoading', false)\r\n      }).then(() => {\r\n        $('.smallcart').css('bottom', '10px')\r\n        // this.$nextTick(() => {\r\n        //   $('.smallcart').css('bottom', '10px')\r\n        // })\r\n      })\r\n    },\r\n    // 加入購物車\r\n    addCart (id, qty = 1) {\r\n      this.$store.dispatch('Mcart/addtocart', { id, qty })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Moreproduct.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Moreproduct.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Moreproduct.vue?vue&type=template&id=0deb4245&\"\nimport script from \"./Moreproduct.vue?vue&type=script&lang=js&\"\nexport * from \"./Moreproduct.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}